<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>আমার আইপি কী? | What is My IP - NurulNC.Site</title>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --p: #8b5cf6; --g1: #667eea; --g2: #764ba2; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Hind Siliguri',sans-serif; background:linear-gradient(135deg,var(--g1),var(--g2)); color:white; min-height:100vh; padding:20px; }
    .container { max-width:1000px; margin:0 auto; text-align:center; padding-top:40px; }
    h1 { font-size:2.8rem; margin-bottom:10px; }
    p { font-size:1.2rem; opacity:0.9; }

    .ip-box {
      background:rgba(255,255,255,0.18); backdrop-filter:blur(15px);
      border-radius:25px; padding:35px 25px; margin:35px auto; max-width:700px;
      box-shadow:0 20px 50px rgba(0,0,0,.3); border:1px solid rgba(255,255,255,0.2);
    }
    #mainIP { font-size:4rem; font-weight:700; letter-spacing:4px; margin:15px 0; }
    .loading { font-size:1.4rem; animation:pulse 2s infinite; }
    @keyframes pulse { 0%,100%{opacity:0.6} 50%{opacity:1} }

    .info-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:18px; margin-top:30px; }
    .info-card { background:rgba(255,255,255,0.12); padding:18px; border-radius:18px; }
    .label { font-size:0.95rem; opacity:0.8; }
    .value { font-size:1.4rem; font-weight:600; margin-top:6px; word-break:break-all; }

    .btn { background:rgba(255,255,255,0.25); color:white; border:none; padding:10px 20px; border-radius:50px; cursor:pointer; margin:10px 5px; }
    .refresh { background:var(--p); padding:15px 40px; border-radius:50px; font-size:1.3rem; margin-top:30px; }

    @media(max-width:768px){
      h1{font-size:2.3rem;}
      #mainIP{font-size:2.8rem;}
    }
  </style>
</head>
<body>

<div class="container">
  <h1>আমার আইপি কী?</h1>
  <p>আপনার বর্তমান আইপি এড্রেস ও লোকেশন তথ্য</p>

  <div class="ip-box">
    <div id="status" class="loading">তথ্য লোড হচ্ছে... একটু অপেক্ষা করুন</div>
    <div id="mainIP">000.000.000.000</div>
    <button class="btn" onclick="copyIP()">Copy IP</button>
  </div>

  <div class="info-grid" id="infoGrid" style="display:none;"></div>

  <button class="refresh" onclick="location.reload()">Refresh Information</button>
</div>

<script>
// মাল্টিপল API ব্যাকআপ (যেকোনো একটা কাজ করলেই হবে)
const apis = [
  "https://ipapi.co/json/",
  "https://api.ipify.org?format=json",
  "https://api.myip.com",
  "https://ipwho.is/",
  "https://get.geojs.io/v1/ip.json"
];

let ipAddress = "না পাওয়া গেছে";

async function getIP() {
  for (let api of apis) {
    try {
      const res = await fetch(api, { cache: "no-store" });
      const data = await res.json();

      if (api.includes("ipify")) {
        ipAddress = data.ip;
        document.getElementById("mainIP").textContent = data.ip;
        break;
      }
      else if (api.includes("myip.com")) {
        ipAddress = data.ip;
        document.getElementById("mainIP").textContent = data.ip;
        showExtraInfo({city: data.country, country: data.cc});
        break;
      }
      else if (api.includes("geojs")) {
        ipAddress = data.ip;
        document.getElementById("mainIP").textContent = data.ip;
        break;
      }
      else {
        // ipapi.co বা ipwho.is
        ipAddress = data.ip || data.query || "না পাওয়া গেছে";
        document.getElementById("mainIP").textContent = ipAddress;
        showExtraInfo(data);
        break;
      }
    } catch (e) {
      console.log(api + " failed");
    }
  }

  document.getElementById("status").style.display = "none";
  if (ipAddress === "না পাওয়া গেছে") {
    document.getElementById("status").textContent = "ইন্টারনেট চেক করুন বা আবার চেষ্টা করুন";
    document.getElementById("status").style.display = "block";
  }
}

function showExtraInfo(data) {
  const grid = document.getElementById("infoGrid");
  grid.style.display = "grid";
  grid.innerHTML = `
    <div class="info-card"><div class="label">শহর</div><div class="value">${data.city || data.region || "অজানা"}</div></div>
    <div class="info-card"><div class="label">দেশ</div><div class="value">${data.country_name || data.country || "অজানা"}</div></div>
    <div class="info-card"><div class="label">ISP</div><div class="value">${data.org || data.isp || "অজানা"}</div></div>
    <div class="info-card"><div class="label">টাইমজোন</div><div class="value">${data.timezone || "অজানা"}</div></div>
    <div class="info-card"><div class="label">ডিভাইস</div><div class="value">${/Mobile|Android|iPhone/i.test(navigator.userAgent) ? "মোবাইল" : "কম্পিউটার"}</div></div>
  `;
}

function copyIP() {
  navigator.clipboard.writeText(ipAddress);
  alert("কপি হয়েছে: " + ipAddress);
}

// সাথে সাথে চালাও
getIP();
</script>

</body>
</html>
