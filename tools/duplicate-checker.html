<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Duplicate checker - NurulNC.Site</title>
    
    <meta name="description" content="দ্রুত ডুপ্লিকেট স্ট্রিং রিমুভ করুন। NurulINC-এর প্রিমিয়াম ডুপ্লিকেট চেকার এবং ফাইন্ডার টুল।">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', 'Hind Siliguri', sans-serif; background-color: #f8fafc; }
        .premium-card { background: white; border-radius: 2.5rem; border: 1px solid rgba(0,0,0,0.05); transition: all 0.3s ease; }
        .input-premium { border: 1px solid #e2e8f0; transition: all 0.3s; background: #fff; }
        .input-premium:focus { border-color: #4f46e5; outline: none; ring: 2px; ring-color: rgba(79, 70, 229, 0.1); }
        .ad-space { background: #f1f5f9; border: 2px dashed #cbd5e1; border-radius: 12px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        textarea { font-family: 'Inter', monospace; resize: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <header class="bg-white border-b py-4 sticky top-0 z-50">
        <div class="container mx-auto px-4 flex justify-between items-center max-w-7xl">
            <a href="../index.html" class="text-2xl font-black text-indigo-600 italic tracking-tighter uppercase">NurulNC<span class="text-slate-400">.SITE</span></a>
            <a href="../index.html" class="text-sm font-bold text-indigo-600 uppercase italic flex items-center">
                <i data-lucide="home" class="w-4 h-4 mr-1"></i> Home
            </a>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 max-w-5xl flex flex-col items-center">
        
        <div class="ad-space w-full max-w-[728px] h-[90px] mb-10">
           <script>
  atOptions = {
    'key' : 'b4841218553199d515a771c07194f2ac',
    'format' : 'iframe',
    'height' : 90,
    'width' : 728,
    'params' : {}
  };
</script>
<script src="https://lightingshovestature.com/b4841218553199d515a771c07194f2ac/invoke.js"></script>
        </div>

        <div class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-black italic uppercase tracking-tight text-slate-900 leading-tight">
                Duplicate <span class="text-indigo-600">Remover</span>
            </h1>
            <p class="text-slate-500 text-sm mt-3 font-bold tracking-widest uppercase italic">Clean & Filter Your Text Data Instantly</p>
        </div>

        <div class="premium-card w-full p-6 md:p-10 shadow-sm border border-slate-100">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="bg-slate-50 p-6 rounded-3xl border border-slate-100">
                    <label class="block text-[10px] font-black uppercase text-slate-400 mb-3 tracking-widest italic">Regex Filter</label>
                    <div class="flex items-center gap-3">
                        <input type="checkbox" id="useRegex" class="w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                        <input type="text" id="regexPattern" placeholder="e.g., ^A.*" 
                        class="input-premium flex-1 px-4 py-2 rounded-xl text-sm italic font-bold">
                    </div>
                </div>
                <div class="bg-slate-50 p-6 rounded-3xl border border-slate-100">
                    <label class="block text-[10px] font-black uppercase text-slate-400 mb-3 tracking-widest italic">Upload Files (.txt)</label>
                    <input type="file" id="fileInput" multiple accept=".txt" onchange="loadFiles(event)"
                    class="block w-full text-xs text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-black file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 italic">
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="space-y-3">
                    <label class="block text-[10px] font-black uppercase text-slate-400 tracking-widest italic ml-4">Input Strings</label>
                    <textarea id="input" placeholder="Enter strings here, one per line..." 
                    class="input-premium w-full h-80 p-6 rounded-[2rem] text-sm font-medium leading-relaxed">Apple
banana
Banana
Cat
dog
Cat
Dog
dog
Apple
cat</textarea>
                </div>
                <div class="space-y-3">
                    <label class="block text-[10px] font-black uppercase text-slate-400 tracking-widest italic ml-4">Output Result</label>
                    <textarea id="output" readonly placeholder="Result will appear here..." 
                    class="input-premium w-full h-80 p-6 rounded-[2rem] text-sm font-medium leading-relaxed bg-slate-50"></textarea>
                </div>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-8">
                <button onclick="removeDuplicates()" class="bg-indigo-600 text-white font-black uppercase tracking-widest py-4 rounded-2xl text-[10px] md:text-xs hover:bg-indigo-700 transition shadow-lg shadow-indigo-100 flex items-center justify-center gap-2">
                    <i data-lucide="scissors" class="w-4 h-4"></i> Remove
                </button>
                <button onclick="findDuplicates()" class="bg-slate-900 text-white font-black uppercase tracking-widest py-4 rounded-2xl text-[10px] md:text-xs hover:bg-slate-800 transition shadow-lg flex items-center justify-center gap-2">
                    <i data-lucide="search" class="w-4 h-4"></i> Find
                </button>
                <button onclick="exportToCSV()" class="bg-emerald-500 text-white font-black uppercase tracking-widest py-4 rounded-2xl text-[10px] md:text-xs hover:bg-emerald-600 transition shadow-lg shadow-emerald-100 flex items-center justify-center gap-2">
                    <i data-lucide="download" class="w-4 h-4"></i> CSV
                </button>
                <button onclick="clearAll()" class="bg-rose-500 text-white font-black uppercase tracking-widest py-4 rounded-2xl text-[10px] md:text-xs hover:bg-rose-600 transition shadow-lg shadow-rose-100 flex items-center justify-center gap-2">
                    <i data-lucide="trash-2" class="w-4 h-4"></i> Clear
                </button>
            </div>
        </div>

        <div class="ad-space w-full max-w-[728px] h-[90px] mt-10">
            <span class="text-slate-400 text-[10px] tracking-widest uppercase font-black italic">Bottom Ad Banner</span>
        </div>
    </main>

    <footer class="bg-slate-900 text-slate-500 py-8 text-center text-[10px] font-bold uppercase tracking-widest mt-auto">
        © 2024 NurulNC | Duplicate Checker Specialist
    </footer>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-8 py-4 rounded-2xl text-xs font-bold uppercase tracking-widest hidden animate-bounce z-50">
        Exported Successfully!
    </div>

    <script>
        // --- Original Processing Logic ---
        let originalLines = [];
        let filteredLines = [];

        function getLines(textareaId) {
            const textarea = document.getElementById(textareaId);
            const lines = textarea.value.trim().split('\n').map(line => line.trim()).filter(line => line !== '');
            originalLines = lines;
            return lines;
        }

        function applyRegexFilter(lines) {
            const useRegex = document.getElementById('useRegex').checked;
            if (!useRegex) return lines;
            const pattern = document.getElementById('regexPattern').value.trim();
            if (!pattern) return lines;
            let regex;
            try { regex = new RegExp(pattern, 'i'); } catch (e) { alert('Invalid regex pattern'); return []; }
            return lines.filter(line => regex.test(line));
        }

        function setOutput(lines) {
            const output = document.getElementById('output');
            output.value = Array.isArray(lines) ? lines.join('\n') : lines;
        }

        function processDuplicates(mode) {
            let lines = getLines('input');
            if (lines.length === 0) { setOutput('No input provided.'); return; }
            filteredLines = applyRegexFilter(lines);
            if (filteredLines.length === 0) { setOutput('No matching lines.'); return; }

            const lowerToOriginal = new Map();
            const lowerCount = new Map();
            const duplicates = new Set();

            filteredLines.forEach(line => {
                const lower = line.toLowerCase();
                if (!lowerToOriginal.has(lower)) lowerToOriginal.set(lower, line);
                lowerCount.set(lower, (lowerCount.get(lower) || 0) + 1);
                if (lowerCount.get(lower) > 1) duplicates.add(lower);
            });

            let result = [];
            if (mode === 'remove') {
                for (const [lower, original] of lowerToOriginal) result.push(original);
            } else if (mode === 'find') {
                for (const lower of duplicates) result.push(lowerToOriginal.get(lower));
            }
            result.sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));
            setOutput(result.length === 0 ? (mode === 'remove' ? 'No items.' : 'No duplicates.') : result);
        }

        function removeDuplicates() { processDuplicates('remove'); }
        function findDuplicates() { processDuplicates('find'); }
        function clearAll() {
            document.getElementById('input').value = '';
            document.getElementById('output').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('useRegex').checked = false;
            document.getElementById('regexPattern').value = '';
        }

        async function loadFiles(event) {
            const files = Array.from(event.target.files);
            let combinedContent = '';
            for (const file of files) {
                const text = await file.text();
                combinedContent += text + '\n';
            }
            document.getElementById('input').value = combinedContent.trim();
        }

        function exportToCSV() {
            const output = document.getElementById('output').value.trim();
            if (!output) return;
            const lines = output.split('\n');
            let csvContent = 'data:text/csv;charset=utf-8,"String"\n';
            lines.forEach(line => csvContent += `"${line.replace(/"/g, '""')}"\n`);
            const link = document.createElement('a');
            link.setAttribute('href', encodeURI(csvContent));
            link.setAttribute('download', 'results.csv');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            const toast = document.getElementById('toast');
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), 2000);
        }

        lucide.createIcons();
    </script>
</body>
</html>
