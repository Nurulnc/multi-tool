<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Advanced ICC/Credit Card Validator - Luhn Algorithm, BIN/IIN Checker, Expiration & CVV Validation" />
  <meta name="keywords" content="icc checker, credit card validator, luhn check, bin checker, card validator, cc checker" />
  <meta name="author" content="ICC Checker" />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#3b82f6" />
  <title>ICC Checker Pro | Advanced Card Validator</title>

  <style>
    /* ===== CSS Variables ===== */
    :root {
      --primary: #3b82f6; --primary-h: #2563eb; --success: #22c55e; --error: #ef4444;
      --warn: #f59e0b; --bg: #f8fafc; --card: #ffffff; --text: #1e293b; --muted: #64748b;
      --border: #e2e8f0; --shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
      --radius: 16px; --trans: 250ms ease;
    }
    [data-theme="dark"] {
      --primary: #60a5fa; --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; --muted: #94a3b8;
      --border: #334155; --shadow: 0 10px 15px -3px rgba(0,0,0,0.5);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: var(--bg); color: var(--text); min-height:100vh; padding:16px;
      transition: background var(--trans), color var(--trans);
    }
    .container {
      max-width:960px; margin:0 auto; background:var(--card); border-radius:var(--radius);
      padding:24px; box-shadow:var(--shadow);
    }
    h1 { text-align:center; font-size:2rem; margin-bottom:8px; }
    p { text-align:center; color:var(--muted); margin-bottom:24px; }

    /* Theme Toggle */
    .theme-toggle-container { display:flex; justify-content:flex-end; margin-bottom:16px; }
    #theme-toggle {
      background:transparent; border:1px solid var(--border); color:var(--muted);
      padding:8px 16px; border-radius:10px; cursor:pointer; font-weight:500;
    }
    #theme-toggle:hover { background:var(--border); color:var(--text); }

    textarea {
      width:100%; min-height:150px; padding:16px; font-family:monospace; font-size:14px;
      border:1px solid var(--border); border-radius:10px; background:var(--card);
      color:var(--text); resize:vertical; margin-bottom:16px;
    }
    textarea:focus { outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(59,130,246,.15); }

    .controls { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:20px; }
    button {
      flex:1; min-width:120px; padding:12px 24px; border:none; border-radius:10px;
      font-weight:600; cursor:pointer; transition:all .2s; background:var(--primary); color:white;
    }
    button:hover:not(:disabled) { background:var(--primary-h); transform:translateY(-1px); }
    button:disabled { opacity:0.6; cursor:not-allowed; }
    #stop-btn { background:var(--error); }
    #stop-btn:hover:not(:disabled) { background:#dc2626; }
    #clear-btn { background:var(--muted); }
    #clear-btn:hover { background:#475569; }
    button.loading::after {
      content:""; display:inline-block; width:16px; height:16px; margin-left:8px;
      border:2px solid transparent; border-top-color:white; border-radius:50%;
      animation:spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform:rotate(360deg); } }

    .progress-container { height:8px; background:var(--border); border-radius:10px; overflow:hidden; margin:24px 0; }
    #progress-bar { height:100%; width:0%; background:linear-gradient(90deg,var(--primary),var(--success)); transition:width .3s; }

    .stats { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin:24px 0; }
    .stat-card {
      background:var(--card); border:1px solid var(--border); border-radius:10px;
      padding:16px; text-align:center; transition:.2s;
    }
    .stat-card:hover { transform:translateY(-2px); }
    .stat-card h3 { font-size:12px; text-transform:uppercase; color:var(--muted); }
    .stat-card span { font-size:28px; font-weight:700; }

    .results { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:16px; margin-top:24px; }
    .result-card {
      background:var(--card); border-radius:10px; padding:16px; border:1px solid var(--border);
      opacity:0; transform:translateY(10px); transition:all .3s;
    }
    .result-card.visible { opacity:1; transform:none; }
    .result-card.live { border-left:4px solid var(--success); }
    .result-card.dead { border-left:4px solid var(--error); }
    .card-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
    .card-type-badge { font-size:11px; padding:4px 8px; border-radius:6px; background:#334155; color:white; text-transform:uppercase; font-weight:600; }
    .card-type-badge.visa { background:#1a1f71; }
    .card-type-badge.mastercard { background:#eb001b; }
    .card-type-badge.amex { background:#006fcf; }
    .status-badge { font-size:11px; padding:4px 10px; border-radius:6px; font-weight:700; text-transform:uppercase; }
    .status-badge.live { background:#dcfce7; color:var(--success); }
    .status-badge.dead { background:#fee2e2; color:var(--error); }
    .card-number { font-family:monospace; font-size:16px; font-weight:600; margin-bottom:12px; letter-spacing:1px; }
    .card-details { display:flex; gap:20px; font-size:14px; }
    .detail-label { font-size:11px; color:var(--muted); text-transform:uppercase; }
    .detail-value { font-weight:600; }

    .notification {
      position:fixed; bottom:24px; right:24px; padding:16px 24px; border-radius:10px;
      background:var(--card); color:var(--text); box-shadow:var(--shadow); z-index:9999;
      border-left:4px solid var(--primary); opacity:0; transform:translateY(20px); transition:all .3s;
    }
    .notification.show { opacity:1; transform:none; }
    .notification.success { border-left-color:var(--success); }
    .notification.warning { border-left-color:var(--warn); }

    @media (max-width:768px) {
      .stats { grid-template-columns:repeat(2,1fr); }
      .controls { flex-direction:column; }
      button { width:100%; }
      .results { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="theme-toggle-container">
      <button id="theme-toggle">Dark Mode</button>
    </div>

    <h1>ICC Checker Pro</h1>
    <p>Advanced Credit Card / ICC Validator with Luhn, BIN, Expiry & CVV Check</p>

    <textarea id="card-input" placeholder="Enter cards (format: number|mm|yy|cvv or number|mm|yyyy|cvv)&#10;Example:&#10;5579100452783413|03|2025|996&#10;4111111111111111|12|27|123"></textarea>

    <div class="controls">
      <button id="validate-btn">Start Checking</button>
      <button id="stop-btn" disabled>Stop</button>
      <button id="clear-btn">Clear All</button>
    </div>

    <div class="progress-container"><div id="progress-bar"></div></div>

    <div class="stats">
      <div class="stat-card"><h3>Total</h3><span id="total-count">0</span></div>
      <div class="stat-card"><h3>Valid</h3><span id="valid-count">0</span></div>
      <div class="stat-card"><h3>Live</h3><span id="live-count">0</span></div>
      <div class="stat-card"><h3>Dead</h3><span id="dead-count">0</span></div>
    </div>

    <div id="results-container" class="results"></div>
  </div>

  <script>
    const DELAY = 80;

    class ICCValidator {
      constructor() {
        this.patterns = {
          visa: {p:/^4[0-9]{12}(?:[0-9]{3})?$/, name:"Visa"},
          mastercard: {p:/^(5[1-5][0-9]{14}|2(2[2-9][0-9]|[3-6][0-9]{2}|7[01][0-9]|720)[0-9]{12})$/, name:"Mastercard"},
          amex: {p:/^3[47][0-9]{13}$/, name:"Amex"},
          discover: {p:/^6(?:011|4[4-9][0-9]|5[0-9]{2})[0-9]{12}$/, name:"Discover"},
          diners: {p:/^3(?:0[0-5]|[68][0-9])[0-9]{11,13}$/, name:"Diners"},
          jcb: {p:/^(?:2131|1800|35[0-9]{3})[0-9]{11,13}$/, name:"JCB"},
          unionpay: {p:/^62[0-9]{14,17}$/, name:"UnionPay"},
          maestro: {p:/^(5018|5020|5038|5893|6304|6759|676[1-3])[0-9]{8,15}$/, name:"Maestro"}
        };
        this.running = false;
      }

      clean(n) { return n.replace(/\D/g,""); }
      luhn(n) {
        let s=0, d=false;
        for(let i=n.length-1;i>=0;i--){
          let digit = +n[i];
          if(d) { digit*=2; if(digit>9) digit-=9; }
          s+=digit; d=!d;
        }
        return s%10===0;
      }
      getType(num) {
        for(const [k,v] of Object.entries(this.patterns)){
          if(v.p.test(num)) return {type:k, name:v.name};
        }
        return {type:"unknown", name:"Unknown"};
      }
      checkExp(m,y) {
        if(!m||!y) return false;
        const mn=+m, yy=y.length===2?2000+ +y : +y;
        if(isNaN(mn)||mn<1||mn>12||isNaN(yy)) return false;
        const now=new Date(), curY=now.getFullYear(), curM=now.getMonth()+1;
        return yy>curY || (yy===curY && mn>=curM);
      }
      checkCVV(cvv, type) {
        if(!cvv) return false;
        const len = type==="amex"?4:3;
        return cvv.length===len && /^\d+$/.test(cvv);
      }

      validate(line) {
        const [num, m, y, cvv] = line.split("|").map(x=>x.trim());
        if(!num) return {valid:false, reason:"No number"};
        const clean = this.clean(num);
        if(clean.length<12||clean.length>19) return {valid:false, reason:"Invalid length"};
        if(!this.luhn(clean)) return {valid:false, reason:"Luhn failed"};
        const {type, name} = this.getType(clean);
        const expOk = this.checkExp(m,y);
        const cvvOk = this.checkCVV(cvv, type);
        if(!expOk) return {valid:false, reason:"Expired"};
        if(!cvvOk) return {valid:false, reason:"Bad CVV"};
        return {valid:true, type, name, number:num, month:m, year:y, cvv};
      }

      simulate() { return Math.random()<0.2 ? "LIVE" : "DEAD"; }

      async start(cards, onProgress, onResult) {
        this.running = true;
        const stats = {total:cards.length, processed:0, valid:0, live:0, dead:0};
        for(let i=0; i<cards.length && this.running; i++){
          const line = cards[i].trim();
          if(!line){ stats.processed++; continue; }
          const res = this.validate(line);
          let status = "INVALID";
          if(res.valid){
            status = this.simulate();
            stats.valid++;
            if(status==="LIVE") stats.live++; else stats.dead++;
          }
          stats.processed++;
          onProgress(stats);
          if(status!=="INVALID") onResult({cardData:line, ...res, status, progress:Math.round(stats.processed/stats.total*100)});
          await new Promise(r=>setTimeout(r,DELAY));
        }
        this.running = false;
      }
      stop() { this.running = false; }
    }

    // UI
    document.addEventListener("DOMContentLoaded",()=>{
      const v = new ICCValidator();
      const el = {
        input: document.getElementById("card-input"),
        start: document.getElementById("validate-btn"),
        stop: document.getElementById("stop-btn"),
        clear: document.getElementById("clear-btn"),
        theme: document.getElementById("theme-toggle"),
        prog: document.getElementById("progress-bar"),
        results: document.getElementById("results-container"),
        cnt: {
          total: document.getElementById("total-count"),
          valid: document.getElementById("valid-count"),
          live: document.getElementById("live-count"),
          dead: document.getElementById("dead-count")
        }
      };

      const toggle = () => {
        const dark = document.documentElement.getAttribute("data-theme")==="dark";
        const newT = dark?"light":"dark";
        document.documentElement.setAttribute("data-theme",newT);
        localStorage.setItem("theme",newT);
        el.theme.textContent = newT==="dark"?"Light Mode":"Dark Mode";
      };
      const initTheme = () => {
        const t = localStorage.getItem("theme")||"light";
        document.documentElement.setAttribute("data-theme",t);
        el.theme.textContent = t==="dark"?"Light Mode":"Dark Mode";
      };

      const notify = (msg,type="info") => {
        const n = document.createElement("div");
        n.className=`notification ${type}`; n.textContent=msg;
        document.body.appendChild(n);
        setTimeout(()=>n.classList.add("show"),10);
        setTimeout(()=>{n.classList.remove("show"); setTimeout(()=>n.remove(),300);},3000);
      };

      el.start.onclick = async () => {
        const lines = el.input.value.split("\n").filter(x=>x.trim());
        if(!lines.length) return notify("Enter some cards first!","warning");
        el.results.innerHTML=""; el.prog.style.width="0%";
        el.start.disabled=el.stop.disabled=false; el.start.classList.add("loading");
        await v.start(lines,
          s=>{ el.cnt.total.textContent=s.total; el.cnt.valid.textContent=s.valid;
                el.cnt.live.textContent=s.live; el.cnt.dead.textContent=s.dead; },
          r=>{ el.prog.style.width=r.progress+"%";
               const card=document.createElement("div");
               card.className=`result-card ${r.status.toLowerCase()} visible`;
               const {number,month,year,cvv}=r;
               const yr = year.length===2?`20${year}`:year;
               card.innerHTML=`
                 <div class="card-header">
                   <span class="card-type-badge ${r.type}">${r.name}</span>
                   <span class="status-badge ${r.status.toLowerCase()}">${r.status}</span>
                 </div>
                 <div class="card-number">${number}</div>
                 <div class="card-details">
                   <div><span class="detail-label">Exp</span><br><span class="detail-value">${month}/${yr}</span></div>
                   <div><span class="detail-label">CVV</span><br><span class="detail-value">${cvv}</span></div>
                 </div>`;
               el.results.prepend(card);
          });
        el.start.disabled=false; el.stop.disabled=true; el.start.classList.remove("loading");
        notify("Checking Complete!","success");
      };
      el.stop.onclick = ()=>{ v.stop(); el.start.classList.remove("loading"); };
      el.clear.onclick = ()=>{ el.input.value=""; el.results.innerHTML=""; el.prog.style.width="0%";
        Object.values(el.cnt).forEach(c=>c.textContent="0"); };
      el.theme.onclick = toggle;
      initTheme();
    });
  </script>
</body>
</html>
