<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Play Button যোগ করো</title>
<style>
  body,html{margin:0;height:100%;font-family:sans-serif;background:#f0f0f0;display:flex;align-items:center;justify-content:center;}
  .box{max-width:420px;width:90%;background:#fff;padding:20px;border-radius:20px;box-shadow:0 10px 30px #0002;text-align:center;}
  h2{color:#333;margin:0 0 20px;font-size:1.4rem;}
  .drop{border:4px dashed #3498db;padding:40px;border-radius:16px;cursor:pointer;transition:.3s;background:#f8fbff;}
  .drop:hover{background:#e3f2ff;border-color:#2980b9;}
  .drop.drag{background:#d0ebff;}
  .icon{font-size:50px;color:#3498db;margin-bottom:10px;}
  .preview{margin:25px 0;position:relative;display:none;border-radius:16px;overflow:hidden;box-shadow:0 8px 25px #0003;}
  .preview img{width:100%;display:block;}
  .play{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:70px;height:70px;background:rgba(0,0,0,0.7);border-radius:50%;display:flex;align-items:center;justify-content:center;}
  .play::before{content:"";border-left:20px solid #fff;border-top:13px solid transparent;border-bottom:13px solid transparent;margin-left:6px;}
  button{margin:10px auto;padding:14px 0;width:100%;border:none;border-radius:12px;font-size:1rem;color:#fff;cursor:pointer;}
  #change{background:#9b59b6;}
  #down{background:#27ae60;}
  button:active{transform:scale(0.96);}
  .ctrl{margin-top:15px;font-size:0.9rem;color:#555;}
  .ctrl label{display:inline-block;margin:5px 8px;}
</style>
</head>
<body>

<div class="box">
  <h2>ছবিতে Play Button যোগ করুন</h2>

  <div class="drop" id="drop">
    <div class="icon">↑</div>
    <div>ছবি এখানে টেনে আনো<br>অথবা ক্লিক করে দাও</div>
    <input type="file" id="file" accept="image/*" hidden>
  </div>

  <div class="preview" id="prev">
    <img id="img">
    <div class="play"></div>
  </div>

  <button id="change" style="display:none">অন্য ছবি দিন</button>
  <button id="down" style="display:none">ডাউনলোড করুন</button>

  <div class="ctrl">
    <label>সাইজ: <input type="range" id="size" min="40" max="120" value="70"></label><br>
    <label>অন্ধকার: <input type="range" id="opa" min="30" max="90" value="70"></label>
  </div>
</div>

<script>
const drop = document.getElementById('drop');
const file = document.getElementById('file');
const prev = document.getElementById('prev');
const img  = document.getElementById('img');
const play = document.querySelector('.play');
const change = document.getElementById('change');
const down  = document.getElementById('down');
const size  = document.getElementById('size');
const opa   = document.getElementById('opa');

// ক্লিক করে ফাইল সিলেক্ট
drop.onclick = () => file.click();
change.onclick = () => file.click();

// ড্র্যাগ-ড্রপ
['dragover','dragenter'].forEach(e=>drop.addEventListener(e, p=> (p.preventDefault(), drop.classList.add('drag'))));
['dragleave','dragend','drop'].forEach(e=>drop.addEventListener(e, p=> (p.preventDefault(), drop.classList.remove('drag'))));
drop.ondrop = e => { if(e.dataTransfer.files[0]) load(e.dataTransfer.files[0]); }

// ফাইল লোড
file.onchange = () => { if(file.files[0]) load(file.files[0]); }

function load(f){
  const r = new FileReader();
  r.onload = e => {
    img.src = e.target.result;
    prev.style.display = 'block';
    change.style.display = down.style.display = 'block';
    updatePlay();
  }
  r.readAsDataURL(f);
}

// Play Button আপডেট
function updatePlay(){
  play.style.width = play.style.height = size.value + 'px';
  play.style.background = `rgba(0,0,0,${opa.value/100})`;
}
size.oninput = opa.oninput = updatePlay;

// ডাউনলোড
down.onclick = () => {
  const c = document.createElement('canvas');
  const x = c.getContext('2d');
  const i = new Image();
  i.src = img.src;
  i.onload = () => {
    c.width = i.width; c.height = i.height;
    x.drawImage(i,0,0);
    // Play আঁকা
    const s = Math.min(c.width,c.height) * (size.value/400);
    const cx = c.width/2, cy = c.height/2;
    x.fillStyle = `rgba(0,0,0,${opa.value/100})`;
    x.beginPath(); x.arc(cx,cy,s,0,Math.PI*2); x.fill();
    x.fillStyle = '#fff';
    x.beginPath();
    x.moveTo(cx-s/3, cy-s/2.2);
    x.lineTo(cx-s/3, cy+s/2.2);
    x.lineTo(cx+s/3.5, cy);
    x.closePath(); x.fill();

    const a = document.createElement('a');
    a.download = 'video-thumb.png';
    a.href = c.toDataURL();
    a.click();
  }
}
</script>
  <script type="text/javascript">
	atOptions = {
		'key' : '9fcd38558b92fb41c6c0f707ef3f23a7',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
  </script>

</body>
</html>
